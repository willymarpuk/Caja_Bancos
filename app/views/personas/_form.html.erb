<%= form_for(@persona) do |f| %>
  <% if @persona.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@persona.errors.count, "errores") %> prohiben que esta persona sea guardada:</h2>

      <ul>
      <% @persona.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<div class="row">
<div class="col-md-4">
    <div class="field">
        <label for="caja_id_persona">Tipo de Persona  
            <%= link_to "#modal-tipo_de_persona", "data-toggle" => "modal" , class: 'btn btn-warning btn-outline btn-circle' do %>
              <span class="glyphicon glyphicon-plus"></span>
            <% end %>
        </label>
        </br>
        <%= f.collection_select  :id_tipo_de_persona, TiposDePersona.all,:id, :name_with_initial, {prompt: "Seleccione un tipo de persona"}, {class: "form-control"} %>
      </div>

    <div class="field">
      <%= f.label :nombre %><br>
      <%= f.text_field :nombre, :class => 'form-control' %>
    </div>
  </div>
  <div class="col-md-4">
    <div class="field">
      <%= f.label :direccion %><br>
      <%= f.text_field :direccion, :class => 'form-control' %>
    </div>
    <div class="field">
      <%= f.label :localidad %><br>
      <%= f.text_field :localidad, :class => 'form-control' %>
    </div>
  </div>
  <div class="col-md-4">
    <div class="field">
      <%= f.label :departamento %><br>
      <%= f.text_field :departamento, :class => 'form-control' %>
    </div>
    <div class="field">
      <%= f.label :telefono %><br>
      <%= f.number_field :telefono, :class => 'form-control' %>
    </div>
    </div>
</div>
  <div class="actions">
    <% if controller.action_name == 'new' or controller.action_name == 'index' %>
      <%= f.submit "Agregar", :class => 'btn btn-primary'%>
    <% elsif controller.action_name == 'edit' %>
      <%= f.submit "Actualizar", :class => 'btn btn-primary'%>
    <% end %>
  </div>
<% end %> <br>

<%= render 'personas/modals/tipoDePersona' %>